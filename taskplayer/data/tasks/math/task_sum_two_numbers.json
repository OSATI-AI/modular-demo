{
    "task_id": "task_sum_two_numbers",
    "template_id": "template_question_answer",
    "title": {
        "english": "Sum Two Numbers",
        "german": "Zwei Zahlen Summieren"
    },
    "description": {
        "english": "In this task, the student is asked to find the sum of two randomly generated numbers. The task is presented in an equation format like 'number1 + number2 ='. At the top, a question text asks 'What is the sum of the two numbers?' in both English and German. The student interacts with a math-field input element where the equation is displayed, and the answer part is a placeholder that the student must fill in. The layout is simple with no additional images or visual aids, focusing purely on the equation. Events that the task can send include 'evaluationResult', 'task_details', and 'task_loaded'. It can receive 'evaluate', 'refresh', and 'get_task_details'.",
        "german": "Bei dieser Aufgabe wird der Sch\u00fcler gebeten, die Summe von zwei zuf\u00e4llig generierten Zahlen zu ermitteln. Die Aufgabe wird im Format 'number1 + number2 =' pr\u00e4sentiert. Oben stellt ein Fragentext sowohl auf Englisch als auch auf Deutsch die Frage: 'Was ist die Summe der beiden Zahlen?'. Der Sch\u00fcler interagiert mit einem Math-Field-Eingabeelement, in dem die Gleichung angezeigt wird, und der Antwortteil ist ein Platzhalter, den der Sch\u00fcler ausf\u00fcllen muss. Das Layout ist einfach und enth\u00e4lt keine zus\u00e4tzlichen Bilder oder visuelle Hilfsmittel, sondern konzentriert sich rein auf die Gleichung. Ereignisse, die die Aufgabe senden kann, sind 'evaluationResult', 'task_details' und 'task_loaded'. Es kann 'evaluate', 'refresh' und 'get_task_details' empfangen."
    },
    "topic_id": 15,
    "events": {
        "send": [
            "evaluationResult",
            "task_details",
            "task_loaded"
        ],
        "receive": [
            "evaluate",
            "refresh",
            "get_task_details"
        ]
    },
    "text": {
        "text_question": {
            "english": "What is the sum of the two numbers?",
            "german": "Was ist die <b><u>Summe</u></b>?"
        },
        "text_answer": {
            "english": "Answer",
            "german": "Antwort"
        }
    },
    "script": "let number1, number2, correctAnswer;\nconst { questionElement, imagePlaceholder, answerElement } = playerApi.callTemplateScript('createLayout', {});\n\nfunction generateExercise() {\n  number1 = Math.floor(Math.random() * 100) + 1;\n  number2 = Math.floor(Math.random() * 100) + 1;\n  correctAnswer = number1 + number2;\n  questionElement.innerHTML = \"{{text_question}}\";\n  questionElement.setAttribute('text_map', 'text_question');\n\n  const answerField = document.createElement(\"math-field\");\n  answerField.id = \"equation\";\n  const equation = `${number1} + ${number2} = \\\\placeholder[answer]{}`;\n  answerField.setValue(equation);\n  answerField.mathVirtualKeyboardPolicy = \"manual\";\n  answerField.readonly = true;\n  answerElement.append(answerField);\n  playerApi.sendEvent('task_loaded', {});\n}\n\nfunction init() {\n  playerApi.receiveEvent('evaluate', function() {\n    const userInput = parseInt(document.querySelector('math-field').getValue().split('=')[1].trim(), 10);\n    const isCorrect = userInput === correctAnswer;\n    playerApi.sendEvent('evaluationResult', { userInput, result: correctAnswer, isCorrect });\n  });\n\n  playerApi.receiveEvent('refresh', function() {\n    answerElement.innerHTML = '';\n    generateExercise();\n  });\n\n  playerApi.receiveEvent('get_task_details', function() {\n    const taskDetails = playerApi.getTaskDetails();\n    const dynamicDetails = `Current exercise: The numbers are ${number1} and ${number2}, and their sum is ${correctAnswer}.`;\n    playerApi.sendEvent('task_details', {\n      staticInfo: taskDetails.description,\n      dynamicDetails: dynamicDetails\n    });\n  });\n}\n\ninit();\ngenerateExercise();"
}