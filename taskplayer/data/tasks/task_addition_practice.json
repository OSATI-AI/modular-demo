{"title": {"english": "Addition Practice Task", "german": "Additionsaufgabe"}, "description": {"english": "This task requires the user to solve an addition problem between two random numbers. The numbers change with each refresh.", "german": "Diese Aufgabe erfordert, dass der Benutzer ein Additionsproblem zwischen zwei zuf\u00e4lligen Zahlen l\u00f6st. Die Zahlen \u00e4ndern sich bei jeder Aktualisierung."}, "task_id": "task_addition_practice", "template_id": "template_question_answer", "events": {"send": ["evaluationResult", "task_details", "task_loaded"], "receive": ["evaluate", "refresh", "get_task_details"]}, "text": {"text_question": {"english": "What is the result of the following addition?", "german": "Was ist das Ergebnis der folgenden Addition?"}, "text_answer": {"english": "Answer", "german": "Antwort"}}, "script": "let number1, number2, correctAnswer;\nconst { questionElement, answerElement } = playerApi.callTemplateScript('createLayout', {});\n\nfunction generateExercise() {\n  number1 = Math.floor(Math.random() * 100);\n  number2 = Math.floor(Math.random() * 100);\n  correctAnswer = number1 + number2;\n  questionElement.innerText = `{{text_question}} ${number1} + ${number2}`;\n  \n  const answerInput = document.createElement(\"math-field\");\n  answerInput.id = \"answerField\";\n  answerElement.innerHTML = `<b>{{text_answer}}: </b>`;\n  answerElement.append(answerInput);\n  \n  return { correctAnswer };\n}\n\nfunction init() {\n  playerApi.receiveEvent('evaluate', function() {\n    const userInput = parseFloat(document.getElementById('answerField').getValue());\n    const isCorrect = userInput === correctAnswer;\n    playerApi.sendEvent('evaluationResult', { userInput, result: correctAnswer, isCorrect });\n  });\n\n  playerApi.receiveEvent('refresh', function() {\n    answerElement.innerHTML = '';\n    generateExercise();\n  });\n\n  playerApi.receiveEvent('get_task_details', function() {\n    const taskDetails = playerApi.getTaskDetails();\n    const dynamicDetails = `Current exercise: ${number1} + ${number2} = ${correctAnswer}`;\n    playerApi.sendEvent('task_details', {\n      staticInfo: taskDetails.description,\n      dynamicDetails: dynamicDetails\n    });\n  });\n}\n\ninit();\ngenerateExercise();", "topic_id": 15}